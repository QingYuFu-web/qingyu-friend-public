# AI成长机器人 - 任务清单

> 当前硬件：树莓派5 8GB + 32GB SD卡
> AI后端：DeepSeek API（已配置）

---

## 第一阶段：最小可用 ✅ 已完成

### 硬件状态
- [x] 树莓派5 8GB
- [x] 32GB SD卡

### 环境部署
- [x] 烧录系统 + SSH/WiFi配置 ✅ 2025-12-11
- [x] 换源 + 装依赖 + Swap ✅ 2025-12-11
- [x] Ollama + Qwen2 0.5B ✅ 2025-12-11
- [x] Python环境（精简安装）✅ 2025-12-11

### 核心开发
- [x] AI对话模块 ✅ 2025-12-12
- [x] 分层记忆系统（ChromaDB）✅ 2025-12-12
- [x] 人格配置系统 ✅ 2025-12-12

### 优化升级 ✅ 2025-12-13
- [x] 记忆系统优化
  - [x] 相似度阈值过滤（避免召回无关记忆）
  - [x] Token 预算控制（防止上下文过长）
  - [x] 事实/对话分离存储（重要信息优先召回）
  - [x] 自动识别关键词存入事实库
- [x] 多后端支持
  - [x] Ollama 本地运行
  - [x] DeepSeek API 支持
  - [x] OpenAI API 支持
  - [x] API 失败自动降级到本地
- [x] 人格系统升级
  - [x] 小可爱是家庭成员，不是工具
  - [x] 有自己的想法和观点
  - [x] 情感表达（开心、好奇、调皮等）
  - [x] 说话示例引导风格

---

## 第二阶段：语音交互（待采购）

### 需要硬件
- [ ] ReSpeaker 2-Mic v2.0（⚠️必须v2.0版本）
- [ ] 3W扬声器

### 开发内容
- [ ] 语音识别（Sherpa-ONNX ASR）
- [ ] 语音合成（Sherpa-ONNX TTS）
- [ ] 语音唤醒（VAD）
- [ ] 语音对话流程整合

---

## 第三阶段：视觉能力（待采购）

### 需要硬件
- [ ] USB摄像头（1080P广角）

### 开发内容
- [ ] 人脸识别（识别家庭成员）
- [ ] 手势识别
- [ ] 表情识别（可选）

---

## 第四阶段：移动能力（待采购）

### 需要硬件
- [ ] 两轮底盘 + 驱动板（L298N/TB6612）
- [ ] 超声波传感器 x3
- [ ] 红外避障模块 x2
- [ ] 电池组 + DC-DC

### 开发内容
- [ ] 运动控制
- [ ] 避障系统
- [ ] 系统集成

---

## 配置文件说明

| 文件 | 说明 | 是否提交Git |
|------|------|------------|
| `config/persona.json` | 小可爱的人格配置 | ✅ 是 |
| `config/api.json` | API密钥配置 | ❌ 否（已加入.gitignore） |

---

## 运行方式

```bash
# 激活环境
cd ~/robot_project
source venv/bin/activate

# 运行（自动使用 DeepSeek）
python src/brain/brain.py

# 交互命令
stats      # 查看记忆统计
fact:xxx   # 添加重要事实
quit       # 退出
```
